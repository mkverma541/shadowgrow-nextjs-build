(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4286],{1294:function(e,r,t){Promise.resolve().then(t.bind(t,69318))},79205:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var n=t(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),i=e=>{let r=s(e);return r.charAt(0).toUpperCase()+r.slice(1)},o=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},c=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:m,...f}=e;return(0,n.createElement)("svg",{ref:r,...l,width:a,height:a,stroke:t,strokeWidth:i?24*Number(s)/Number(a):s,className:o("lucide",d),...!u&&!c(f)&&{"aria-hidden":"true"},...f},[...m.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...Array.isArray(u)?u:[u]])}),u=(e,r)=>{let t=(0,n.forwardRef)((t,s)=>{let{className:c,...l}=t;return(0,n.createElement)(d,{ref:s,iconNode:r,className:o("lucide-".concat(a(i(e))),"lucide-".concat(e),c),...l})});return t.displayName=i(e),t}},41671:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},99388:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(79205).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},76865:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(79205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},99376:function(e,r,t){"use strict";t.r(r);var n=t(35475),a={};for(var s in n)"default"!==s&&(a[s]=(function(e){return n[e]}).bind(0,s));t.d(r,a)},69318:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m},dynamic:function(){return u}});var n=t(57437),a=t(2265),s=t(99376),i=t(56896),o=t(51817),c=t(41671),l=t(99388),d=t(76865);let u="force-dynamic";function m(){let e=(0,s.useRouter)(),r=(0,s.useSearchParams)(),[t,u]=(0,a.useState)("verifying"),[m,f]=(0,a.useState)("Verifying your payment..."),[p,h]=(0,a.useState)(null),[g,y]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{let t=null==r?void 0:r.get("order_id"),n=null==r?void 0:r.get("tx"),a=null==r?void 0:r.get("txn_id"),s=null==r?void 0:r.get("paymentId"),o=null==r?void 0:r.get("token"),c=null==r?void 0:r.get("PayerID"),l=t;if(l||(l=sessionStorage.getItem("paypal_order_id")),h(l),!l){u("error"),f("Missing order information");return}let d=n||a||s;o&&c&&!d&&(d=o),d||(d=l),y(d);try{let r=await i.K.verifyPayment({order_id:parseInt(l),transaction_id:d});"success"===r.status?(u("success"),f("Payment verified successfully!"),sessionStorage.removeItem("paypal_order_id"),setTimeout(()=>{e.push("/checkout/success?order_id=".concat(l,"&verified=true"))},2e3)):(u("failed"),f("Payment verification failed"))}catch(e){console.error("PayPal verification error:",e),u("error"),f("Error verifying payment. Please contact support.")}})()},[r,e]),(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,n.jsx)("div",{className:"max-w-md mx-auto p-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"mb-6",children:(()=>{switch(t){case"verifying":return(0,n.jsx)(o.Z,{className:"w-8 h-8 animate-spin text-blue-600"});case"success":return(0,n.jsx)(c.Z,{className:"w-8 h-8 text-green-600"});case"failed":return(0,n.jsx)(l.Z,{className:"w-8 h-8 text-red-600"});case"error":return(0,n.jsx)(d.Z,{className:"w-8 h-8 text-yellow-600"});default:return null}})()}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"PayPal Payment Processing"}),(0,n.jsx)("p",{className:"text-lg mb-4 ".concat((()=>{switch(t){case"verifying":return"text-blue-600";case"success":return"text-green-600";case"failed":return"text-red-600";case"error":return"text-yellow-600";default:return"text-gray-600"}})()),children:m}),p&&(0,n.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,n.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Order ID: ",(0,n.jsx)("span",{className:"font-mono font-semibold",children:p})]}),g&&(0,n.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Transaction ID: ",(0,n.jsx)("span",{className:"font-mono font-semibold",children:g})]})]}),"verifying"===t&&(0,n.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,n.jsx)("p",{children:"Please wait while we verify your payment..."}),(0,n.jsx)("p",{className:"mt-2",children:"This may take a few moments."})]}),"success"===t&&(0,n.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400",children:(0,n.jsx)("p",{children:"Redirecting to order confirmation..."})}),"failed"===t&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,n.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:"Payment verification failed. Please contact support if you believe this is an error."})}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}),"error"===t&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,n.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"There was an error processing your payment. Please contact support for assistance."})}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})]})})})}},64131:function(e,r,t){"use strict";function n(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)e[n]=t[n]}return e}t.d(r,{Z:function(){return a}});var a=function e(r,t){function a(e,a,s){if("undefined"!=typeof document){"number"==typeof(s=n({},t,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var o in s)s[o]&&(i+="; "+o,!0!==s[o]&&(i+="="+s[o].split(";")[0]));return document.cookie=e+"="+r.write(a,e)+i}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},a=0;a<t.length;a++){var s=t[a].split("="),i=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(n[o]=r.read(i,o),e===o)break}catch(e){}}return e?n[e]:n}},remove:function(e,r){a(e,"",n({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,n({},this.attributes,r))},withConverter:function(r){return e(n({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[8575,1796,2971,2117,560],function(){return e(e.s=1294)}),_N_E=e.O()}]);