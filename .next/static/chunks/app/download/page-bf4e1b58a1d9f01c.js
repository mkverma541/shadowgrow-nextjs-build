(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6040],{49834:function(e,t,a){Promise.resolve().then(a.bind(a,34994))},99376:function(e,t,a){"use strict";a.r(t);var n=a(35475),r={};for(var o in n)"default"!==o&&(r[o]=(function(e){return n[e]}).bind(0,o));a.d(t,r)},34994:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var n=a(57437),r=a(2265),o=a(99376),c=a(53688);function s(){let e=(0,o.useSearchParams)(),t=(0,o.useRouter)(),a=null==e?void 0:e.get("token"),{data:s,isLoading:i,error:u}=(0,c.NA)(a,{skip:!a});return((0,r.useEffect)(()=>{(null==s?void 0:s.link)&&setTimeout(()=>{window.location.href=s.link,setTimeout(()=>{window.close()},1e3)},500)},[s]),(0,r.useEffect)(()=>{a||t.push("/account/downloads")},[a,t]),(0,r.useEffect)(()=>{u&&setTimeout(()=>{t.push("/account/downloads")},3e3)},[u,t]),a)?(0,n.jsx)("div",{className:"bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center py-12",children:(0,n.jsxs)("div",{className:"text-center",children:[i&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"relative mx-auto w-16 h-16",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600"}),(0,n.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-400 animate-ping"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Preparing Download..."}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we prepare your file"})]})]}),u&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"p-4 bg-red-100 dark:bg-red-900/20 rounded-full w-16 h-16 mx-auto flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-red-600 dark:text-red-400",children:"Download Failed"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Redirecting back to downloads..."})]})]}),s&&!u&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"p-4 bg-green-100 dark:bg-green-900/20 rounded-full w-16 h-16 mx-auto flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-green-600 dark:text-green-400",children:"Download Ready"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Redirecting to download..."})]})]})]})}):null}},82768:function(e,t,a){"use strict";a.r(t),a.d(t,{AuthInterceptor:function(){return s},apiDelete:function(){return E},apiGet:function(){return u},apiPatch:function(){return h},apiPost:function(){return l},apiPut:function(){return d},authInterceptor:function(){return i},useAuthInterceptor:function(){return p}});var n=a(27129),r=a(2265),o=a(68575),c=a(67455);class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}setAuthStateGetter(e){this.getAuthState=e}getAuthHeaders(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t={"Content-Type":"application/json"};if(e){let e=this.getAuthToken();e&&(t.Authorization="Bearer ".concat(e))}return t}getAuthToken(){if(this.getAuthState)try{let{token:e}=this.getAuthState();if(e)return e}catch(e){console.warn("Auth state getter failed, falling back to cookies:",e)}try{let{token:e}=n.FM.getAuthCookies();return e||null}catch(e){return console.warn("Failed to get auth token from cookies:",e),null}}isAuthenticated(){if(this.getAuthState)try{let{isAuthenticated:e}=this.getAuthState();return e}catch(e){console.warn("Auth state getter failed, falling back to cookies:",e)}try{let{token:e}=n.FM.getAuthCookies();return!!e}catch(e){return console.warn("Failed to check authentication from cookies:",e),!1}}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:a="GET",headers:n={},body:r,requiresAuth:o=!0,timeout:c=1e4}=t,s=e.startsWith("http")?e:"".concat(this.baseURL).concat(e),i=this.getAuthHeaders(o),u={},l={};Object.entries(i).forEach(e=>{let[t,a]=e;void 0!==a&&(u[t]=a)}),Object.entries(n).forEach(e=>{let[t,a]=e;void 0!==a&&(l[t]=a)});let d={method:a,headers:{...u,...l},cache:"no-store"};r&&(d.body="string"==typeof r?r:JSON.stringify(r));let E=new AbortController,h=setTimeout(()=>E.abort(),c);try{let e=await fetch(s,{...d,signal:E.signal});return clearTimeout(h),e.ok||await this.handleErrorResponse(e),await e.json()}catch(e){throw clearTimeout(h),this.handleRequestError(e)}}async handleErrorResponse(e){let t="An error occurred",a=null;try{t=(null==(a=await e.json())?void 0:a.message)||(null==a?void 0:a.error)||t}catch(a){t="HTTP ".concat(e.status,": ").concat(e.statusText)}401===e.status&&this.handleAuthError();let n=Error(t);throw n.status=e.status,n.data=a,n.response=e,n}handleRequestError(e){return(null==e?void 0:e.name)==="AbortError"?Error("Request timeout"):e instanceof Error?e:Error("Network error")}handleAuthError(){try{n.FM.clearAuthCookies()}catch(e){console.warn("Failed to clear auth cookies:",e)}window.location.href="/auth/login"}createRTKHeaders(){let e={"Content-Type":"application/json"},t=this.getAuthToken();return t&&(e.Authorization="Bearer ".concat(t)),e}constructor(){this.getAuthState=null,this.baseURL=c.FH}}let i=s.getInstance();async function u(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i.request(e,{method:"GET",requiresAuth:t})}async function l(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return i.request(e,{method:"POST",body:t,requiresAuth:a})}async function d(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return i.request(e,{method:"PUT",body:t,requiresAuth:a})}async function E(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i.request(e,{method:"DELETE",requiresAuth:t})}async function h(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return i.request(e,{method:"PATCH",body:t,requiresAuth:a})}function p(){let e=(0,o.v9)(e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.isAuthenticated)||!1});return{isAuthenticated:e,token:(0,o.v9)(e=>{var t,a;return(null===(a=e.user)||void 0===a?void 0:null===(t=a.user)||void 0===t?void 0:t.token)||null}),getAuthHeaders:(0,r.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return i.getAuthHeaders(e)},[]),makeRequest:(0,r.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.request(e,t)},[]),apiGet:u,apiPost:l,apiPut:d,apiDelete:E,apiPatch:h}}},10791:function(e,t,a){"use strict";a.d(t,{u:function(){return i}});var n=a(23557),r=a(79523),o=a(67455),c=a(82768);let s=async(e,t)=>{try{let a=await fetch(e,t);return a.status,a}catch(e){throw console.error("Fetch error:",e),e}},i=(0,n.LC)({reducerPath:"api",baseQuery:(0,r.ni)({baseUrl:o.Hv.baseUrl,fetchFn:s,prepareHeaders:(e,t)=>{let{getState:a}=t,n=c.authInterceptor.createRTKHeaders();return e.set("Content-Type","application/json"),n.Authorization&&e.set("Authorization",n.Authorization),e}}),tagTypes:["Post","User","Contact","Search","File","Folder","Product","Category","Blog","top-recent-files","Banner","Agent","Country","Currency","Team","Dashboard","Downloads","Order","Settings"],endpoints:()=>({})})},67455:function(e,t,a){"use strict";a.d(t,{FH:function(){return c},Hv:function(){return s},a6:function(){return o}});let n="https://apis.filewale.com",r="".concat(n,"/api/v1/user"),o="".concat(n,"/static/media"),c="".concat(n);"".concat(n).concat("/static/media/files/folder");let s={baseUrl:c,appBaseUrl:"https://api.filewale.com",mediaBaseUrl:o,apiPrefix:r,AUTH:{SIGNUP:"".concat(r,"/auth/signup"),LOGIN:"".concat(r,"/auth/login"),FORGOT_PASSWORD:"".concat(r,"/auth/forgot-password"),RESET_PASSWORD:"".concat(r,"/auth/reset-password"),VERIFY_OTP:"".concat(r,"/auth/otp/verify"),RESEND_OTP:"".concat(r,"/auth/otp/resend"),CHECKOUT_LOGIN:"".concat(r,"/auth/checkout-login"),GOOGLE_LOGIN:"".concat(r,"/auth/social-login/google"),SOCIAL_AUTH_URL:"".concat(r,"/auth"),SOCIAL_LOGIN:"".concat(r,"/auth/social-login"),ADD_PHONE:"".concat(r,"/add-phone"),VERIFY_PHONE:"".concat(r,"/verify-phone"),CHECK_USERNAME_OR_EMAIL:"".concat(r,"/auth/check-username-email"),UPDATE_PHONE_NUMBER:"".concat(r,"/auth/update-phone"),UPDATE_PHONE_WITH_TOKEN:"".concat(r,"/auth/update-phone-with-token"),VERIFY_EMAIL:"".concat(r,"/auth/verify-email"),RESEND_VERIFICATION_EMAIL:"".concat(r,"/auth/resend-verification-email"),PROFILE:"".concat(r,"/auth/profile")},FILES:{FOLDERS:"".concat(r,"/folders"),FOLDERS_FILES:"".concat(r,"/folders/files"),RECENT_FILES:"".concat(r,"/files/recent"),PAID_FILES:"".concat(r,"/files/paid"),FREE_FILES:"".concat(r,"/files/free"),FOLDER_PATH:"".concat(r,"/folders/path"),FILE_PATH:"".concat(r,"/file/path"),FOLDER_DESCRIPTION:"".concat(r,"/folder/description"),FILE_DETAILS:"".concat(r,"/file"),FILES:"".concat(r,"/files"),FILE:"".concat(r,"/file"),FILE_VISIT:"".concat(r,"/file/visit"),DOWNLOAD_FILE:"".concat(r,"/account/downloads/download-file"),FILE_PASSWORD:"".concat(r,"/account/downloads/file-password"),GENERATE_DOWNLOAD_LINK:"".concat(r,"/file/generate-download-link"),FILE_DOWNLOAD:"".concat(r,"/file/download/link"),TOP_RECENT_FILES:"".concat(r,"/files/top-recent")},SEARCH:"".concat(r,"/search"),CONTENT:{BANNER:"".concat(r,"/banner"),CMS:"".concat(r,"/cms"),CONTACT_US:"".concat(r,"/contact-us"),REQUEST_FILE:"".concat(r,"/request-file"),REVIEWS:"".concat(r,"/reviews"),MENUS:"".concat(r,"/menu"),PAGES:"".concat(r,"/pages")},ADDRESS:{COUNTRIES:"/api/countries",STATES:"/api/states",CITIES:"/api/cities",ADDRESSES:"".concat(r,"/addresses"),ADDRESS:"".concat(r,"/account/address")},COURSES:{COURSES:"".concat(r,"/courses"),COURSE:"".concat(r,"/course"),MY_COURSES:"".concat(r,"/account/courses")},PRODUCTS:{PRODUCTS:"".concat(r,"/products"),PRODUCT_ATTRIBUTES:"".concat(r,"/product/attributes"),PRODUCT_CATEGORIES:"".concat(r,"/product/categories")},PAGES:{AGENTS:"".concat(r,"/agents"),TEAMS:"".concat(r,"/teams"),BLOGS:"".concat(r,"/blogs"),VIDEOS:"".concat(r,"/videos")},PAYMENT:{RAZORPAY_ORDER:"".concat(r,"/payment/razorpay/create-order"),CASHFREE_ORDER:"".concat(r,"/payment/cashfree/create-order"),UPDATE_ORDER:"".concat(r,"/payment/razorpay/update/order"),CASHFREE_ORDER_STATUS:"".concat(r,"/payment/cashfree/update/order"),MANUAL_ORDER:"".concat(r,"/payment/manual/create-order"),ACCOUNT_BALANCE:"".concat(r,"/payment/account-balance/create-order"),CONFIRM_ORDER:"".concat(r,"/payment/manual/confirm-order"),BINANCE_ORDER:"".concat(r,"/payment/binance/create-order"),BINANCE_ORDER_STATUS:"".concat(r,"/payment/binance/check-payment-status"),ORDER_CHECK_DISCOUNT:"".concat(r,"/order/check-discount"),ORDER_CHECK_DISCOUNT_COUPON:"".concat(r,"/order/check-discount-code"),PAYMENT_OPTIONS:"".concat(r,"/payment/options"),PAYPAL_CREATE_ORDER:"".concat(r,"/payment/paypal/create-order"),PAYPAL_WEBHOOK:"".concat(r,"/payment/paypal/webhook"),PAYPAL_VERIFY_PAYMENT:"".concat(r,"/payment/paypal/verify-payment")},CART:{SYNC_CART:"".concat(r,"/cart/sync"),GET_CART:"".concat(r,"/cart"),CHECK_DISCOUNT_COUPON:"".concat(r,"/order/check-discount-coupon")},USER:{USER_PACKAGES:"".concat(r,"/account/packages"),USER_PACKAGE_USAGE:"".concat(r,"/account/packages/usage"),ORDER_HISTORY:"".concat(r,"/account/orders"),ORDER_DETAILS:"".concat(r,"/account/orders"),DOWNLOADS_HISTORY:"".concat(r,"/account/downloads"),UPDATE_PROFILE:"".concat(r,"/account/update-profile"),CHANGE_PASSWORD:"".concat(r,"/account/change-password"),UPDATE_CURRENT_PACKAGE:"".concat(r,"/account/packages/update/current-package"),OVERVIEW:"".concat(r,"/account/overview"),ACCOUNT_PROFILE:"".concat(r,"/account/profile")},WALLET:{WALLET_TRANSACTIONS:"".concat(r,"/wallet/transactions"),BALANCE_TRANSFER:"".concat(r,"/wallet/transfer-balance"),TOP_UP:"".concat(r,"/wallet/top-up"),WALLET_BALANCE:"".concat(r,"/wallet/balance")},DASHBOARD:{DASHBOARD_STATS:"".concat(r,"/dashboard/stats")},SECURITY:{TRUST_DEVICES:"".concat(r,"/devices/trust")},MISC:{GET_LOCATION:"/api/get-location",CURRENCIES:"/api/v1/user/currencies",SETTINGS:"/api/settings",DOWNLOAD_PACKAGES:"".concat(r,"/download-packages")}}},53688:function(e,t,a){"use strict";a.d(t,{$f:function(){return u},BD:function(){return y},K:function(){return R},L9:function(){return O},NA:function(){return m},Ny:function(){return l},dj:function(){return F},p1:function(){return f},uu:function(){return I},wk:function(){return g},xT:function(){return A}});var n=a(10791),r=a(67455);let{useGetFoldersQuery:o,useGetFolderQuery:c,useGetFolderFilesQuery:s,useGetRecentFilesQuery:i,useGetPaidFilesQuery:u,useGetFreeFilesQuery:l,useGetFileDetailsQuery:d,useGetFolderPathQuery:E,useGetFilePathQuery:h,useDownloadFileMutation:p,useGenerateDownloadLinkMutation:S,useGetFilePasswordQuery:T,useRequestFileMutation:A,useGetTopRecentFilesQuery:f,useGetTrendingTopFilesQuery:g,useDownloadFeaturedFileMutation:y,useDownloadPaidFileMutation:F,useDownloadFreeFileMutation:R,useTrustDeviceMutation:O,useGetDownloadLinkQuery:m,useTrackFileVisitMutation:I}=n.u.injectEndpoints({endpoints:e=>({getFolders:e.query({query:()=>r.Hv.FILES.FOLDERS,providesTags:["Folder"],keepUnusedDataFor:300}),getFolder:e.query({query:e=>"".concat(r.Hv.FILES.FOLDERS,"/").concat(e),providesTags:(e,t,a)=>[{type:"Folder",id:a}]}),getFolderFiles:e.query({query:e=>"".concat(r.Hv.FILES.FOLDERS_FILES,"?folder_id=").concat(e),providesTags:(e,t,a)=>[{type:"Folder",id:a},{type:"File",id:"LIST"}]}),getRecentFiles:e.query({query:()=>r.Hv.FILES.RECENT_FILES,providesTags:["File"],keepUnusedDataFor:300}),getPaidFiles:e.query({query:()=>r.Hv.FILES.PAID_FILES,providesTags:["File"],keepUnusedDataFor:300}),getFreeFiles:e.query({query:()=>r.Hv.FILES.FREE_FILES,providesTags:["File"],keepUnusedDataFor:300}),getFileDetails:e.query({query:e=>"".concat(r.Hv.FILES.FILE_DETAILS,"/").concat(e),providesTags:(e,t,a)=>[{type:"File",id:a}]}),getFolderPath:e.query({query:e=>"".concat(r.Hv.FILES.FOLDER_PATH,"/").concat(e),providesTags:(e,t,a)=>[{type:"Folder",id:a}]}),getFilePath:e.query({query:e=>"".concat(r.Hv.FILES.FILE_PATH,"/").concat(e),providesTags:(e,t,a)=>[{type:"File",id:a}]}),downloadFile:e.mutation({query:e=>{let{file_id:t,password:a}=e;return{url:r.Hv.FILES.DOWNLOAD_FILE,method:"POST",body:{file_id:t,password:a}}},invalidatesTags:["File"]}),generateDownloadLink:e.mutation({query:e=>({url:r.Hv.FILES.GENERATE_DOWNLOAD_LINK,method:"POST",body:{slug:e}}),invalidatesTags:["File"]}),getFilePassword:e.query({query:e=>"".concat(r.Hv.FILES.FILE_PASSWORD,"/").concat(e),providesTags:(e,t,a)=>[{type:"File",id:a}]}),requestFile:e.mutation({query:e=>({url:r.Hv.CONTENT.REQUEST_FILE,method:"POST",body:e})}),getTopRecentFiles:e.query({query:()=>r.Hv.FILES.RECENT_FILES,providesTags:["top-recent-files"],keepUnusedDataFor:300}),getTrendingTopFiles:e.query({query:()=>r.Hv.FILES.TOP_RECENT_FILES,providesTags:["top-recent-files"],keepUnusedDataFor:300}),downloadFeaturedFile:e.mutation({query:e=>({url:"".concat(r.Hv.FILES.FILE,"/download/featured"),method:"GET",params:e})}),downloadPaidFile:e.mutation({query:e=>({url:"".concat(r.Hv.FILES.FILE,"/download/paid"),method:"GET",params:e})}),downloadFreeFile:e.mutation({query:e=>({url:"".concat(r.Hv.FILES.FILE,"/download/free"),method:"GET",params:e})}),trustDevice:e.mutation({query:e=>({url:r.Hv.SECURITY.TRUST_DEVICES,method:"POST",body:e})}),getDownloadLink:e.query({query:e=>"".concat(r.Hv.FILES.FILE_DOWNLOAD,"?token=").concat(e),providesTags:(e,t,a)=>[{type:"File",id:a}]}),trackFileVisit:e.mutation({query:e=>{let{file_id:t}=e;return{url:"".concat(r.Hv.FILES.FILE_VISIT),method:"PUT",body:{file_id:t}}},invalidatesTags:(e,t,a)=>{let{file_id:n}=a;return[{type:"File",id:n}]}})})})},27129:function(e,t,a){"use strict";a.d(t,{FM:function(){return i}});var n=a(64131);let r={session:{expires:void 0,secure:!0,sameSite:"lax"},remember:{expires:30,secure:!0,sameSite:"lax"}},o="auth_token",c="user_data",s="remember_me",i={setAuthCookies:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=a?r.remember:r.session;n.Z.set(o,e,i),n.Z.set(c,JSON.stringify(t),i),n.Z.set(s,a.toString(),i)},getAuthCookies:()=>{let e=n.Z.get(o),t=n.Z.get(c),a="true"===n.Z.get(s),r=null;if(t)try{r=JSON.parse(t)}catch(e){console.error("Error parsing user data from cookie:",e)}return{token:e,userData:r,rememberMe:a}},clearAuthCookies:()=>{n.Z.remove(o),n.Z.remove(c),n.Z.remove(s)},isRemembered:()=>"true"===n.Z.get(s),updateRememberMe:e=>{let t=e?r.remember:r.session;n.Z.set(s,e.toString(),t)}}}},function(e){e.O(0,[8575,7003,9129,2971,2117,560],function(){return e(e.s=49834)}),_N_E=e.O()}]);