"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{54490:function(e,a,t){t.d(a,{Z:function(){return y}});var s=t(57437),r=t(2265),d=t(88226),n=t(91804),l=t(32489),o=t(95252),i=t(41671),c=t(49322),m=t(51817),x=t(12381),u=t(40279),p=t(75060),f=t(23675),g=t(8248);let h=[{id:"stripe",name:"Credit/Debit Card",icon:d.Z,color:"bg-blue-500"},{id:"paypal",name:"PayPal",icon:d.Z,color:"bg-blue-600"},{id:"razorpay",name:"Razorpay",icon:d.Z,color:"bg-blue-700"},{id:"binance",name:"Binance Pay",icon:d.Z,color:"bg-yellow-500"},{id:"cashfree",name:"Cashfree",icon:d.Z,color:"bg-green-500"}],b=[10,25,50,100,200,500];function y(e){var a;let{isOpen:t,onClose:d,onSuccess:y}=e,[N,j]=(0,r.useState)(""),[v,w]=(0,r.useState)(""),[k,Z]=(0,r.useState)("stripe"),[z,C]=(0,r.useState)(""),[F,_]=(0,r.useState)(!1),[R,{isLoading:S,error:A,isSuccess:P}]=(0,g.w)(),O=e=>{j(e.toString()),w("")},U=e=>{w(e),j("")},$=async e=>{e.preventDefault();let a=v||N;if(!(!a||0>=parseFloat(a))){_(!0);try{await R({amount:parseFloat(a),paymentMethod:k,description:z||"Wallet top-up of $".concat(a)}).unwrap(),null==y||y(),j(""),w(""),C("")}catch(e){console.error("Failed to add funds:",e)}finally{_(!1)}}},D=()=>{S||F||(j(""),w(""),C(""),Z("stripe"),d())};return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,s.jsx)(n.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Add Funds"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Top up your wallet balance"})]})]}),(0,s.jsx)(x.z,{variant:"ghost",size:"sm",onClick:D,disabled:S||F,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,s.jsx)(l.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("form",{onSubmit:$,className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(p._,{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Select Amount"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-3",children:b.map(e=>(0,s.jsxs)(x.z,{type:"button",variant:N===e.toString()?"default":"outline",onClick:()=>O(e),disabled:S||F,className:"h-12 ".concat(N===e.toString()?"bg-green-600 hover:bg-green-700 text-white":"hover:bg-gray-50 dark:hover:bg-gray-800"),children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 mr-1"}),"$",e]},e))}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p._,{htmlFor:"custom-amount",className:"text-sm text-gray-600 dark:text-gray-400",children:"Or enter custom amount"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)(u.I,{id:"custom-amount",type:"number",placeholder:"0.00",value:v,onChange:e=>U(e.target.value),disabled:S||F,className:"pl-10",min:"0.01",step:"0.01"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(p._,{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Payment Method"}),(0,s.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,s.jsx)("div",{className:"relative cursor-pointer rounded-lg border-2 p-4 transition-all ".concat(k===e.id?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),onClick:()=>Z(e.id),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg ".concat(e.color),children:(0,s.jsx)(e.icon,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name})}),k===e.id&&(0,s.jsx)(i.Z,{className:"w-5 h-5 text-green-500"})]})},e.id))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p._,{htmlFor:"description",className:"text-sm text-gray-600 dark:text-gray-400",children:"Description (Optional)"}),(0,s.jsx)(f.g,{id:"description",placeholder:"Add a note about this transaction...",value:z,onChange:e=>C(e.target.value),disabled:S||F,rows:3})]}),A&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 text-red-500"}),(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:A&&"data"in A&&(null===(a=A.data)||void 0===a?void 0:a.message)||"Failed to add funds"})]}),P&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 text-green-500"}),(0,s.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Funds added successfully! Your wallet balance has been updated."})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsx)(x.z,{type:"button",variant:"outline",onClick:D,disabled:S||F,className:"flex-1",children:"Cancel"}),(0,s.jsx)(x.z,{type:"submit",disabled:S||F||!N&&!v,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:S||F?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Add $",v||N||"0.00"]})})]})]})]})}):null}},32060:function(e,a,t){t.d(a,{$F:function(){return m},AW:function(){return x},bO:function(){return u},h_:function(){return c}});var s=t(57437),r=t(2265),d=t(70085),n=t(10407),l=t(30401),o=t(40519),i=t(93448);let c=d.fC,m=d.xz;d.ZA,d.Uv,d.Tr,d.Ee,r.forwardRef((e,a)=>{let{className:t,inset:r,children:l,...o}=e;return(0,s.jsxs)(d.fF,{ref:a,className:(0,i.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...o,children:[l,(0,s.jsx)(n.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=d.fF.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(d.tu,{ref:a,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=d.tu.displayName;let x=r.forwardRef((e,a)=>{let{className:t,sideOffset:r=4,...n}=e;return(0,s.jsx)(d.Uv,{children:(0,s.jsx)(d.VY,{ref:a,sideOffset:r,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});x.displayName=d.VY.displayName,r.forwardRef((e,a)=>{let{className:t,inset:r,...n}=e;return(0,s.jsx)(d.ck,{ref:a,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",t),...n})}).displayName=d.ck.displayName;let u=r.forwardRef((e,a)=>{let{className:t,children:r,checked:n,...o}=e;return(0,s.jsxs)(d.oC,{ref:a,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(d.wU,{children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})}),r]})});u.displayName=d.oC.displayName,r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,s.jsxs)(d.Rk,{ref:a,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(d.wU,{children:(0,s.jsx)(o.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=d.Rk.displayName,r.forwardRef((e,a)=>{let{className:t,inset:r,...n}=e;return(0,s.jsx)(d.__,{ref:a,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...n})}).displayName=d.__.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(d.Z0,{ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=d.Z0.displayName}}]);